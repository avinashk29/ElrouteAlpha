<app-header></app-header>

<app-s-page-header-search></app-s-page-header-search>
<app-s-page-header></app-s-page-header>
<section>
    <div  class="result_not_found" *ngIf="this.noResult">
        <img src = "../../../assets/images/result_not_found.png">
      </div>
<div class="listing">

<div class="companyCard" *ngFor="let r of result[0]; let i=index">
<div class="cardHeader">
  <div class="logo"  routerLink = "/companyPage/{{r._id}}" [queryParams]= "{urltype:'default'}">
   <img alt="with-login" src="{{r.companyLogo}}">
  </div>
  <div class="companyInfo">
    <div class="follow">
    <h1  routerLink = "/companyPage/{{r._id}}" [queryParams]= "{urltype:'default'}">{{r.companyName}}</h1>
    <div class="b_page_btn" *ngIf="this.token">
            <button  (click)= "companyBookmark(i ,r._id)"  *ngIf = "!this.cresult[i].bookm else bloading"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20.236 37.863">
              <g id="bookmark" fill="transparent">
                <path d="M6.745,0h6.745a6.539,6.539,0,0,1,6.745,6.311l-.043,31.553L10.1,27.3,0,37.863V6.311A6.539,6.539,0,0,1,6.745,0Z"
                  stroke="none" />
                <path d="M 6.745473861694336 2 C 4.128812789916992 2 2.000003814697266 3.933700561523438 2.000003814697266 6.310550689697266 L 2.000003814697266 32.87657165527344 L 8.65113353729248 25.91854095458984 L 10.09687328338623 24.40608978271484 L 11.5426139831543 25.91854095458984 L 18.20048522949219 32.88362121582031 L 18.23642349243164 6.310550689697266 C 18.23642349243164 3.933700561523438 16.10761260986328 2 13.49095344543457 2 L 6.745473861694336 2 M 6.745473861694336 0 L 13.49095344543457 0 C 17.21637344360352 0 20.23642349243164 2.825328826904297 20.23642349243164 6.310550689697266 L 20.19375419616699 37.86328125 L 10.09687328338623 27.30051040649414 L 3.814697265625e-06 37.86328125 L 3.814697265625e-06 6.310550689697266 C 3.814697265625e-06 2.825328826904297 3.020053863525391 0 6.745473861694336 0 Z"
                  stroke="none" fill="gray" />
              </g>
            </svg></span></button>
            <ng-template #bloading>
                <button (click)="deletecompanyBookmark(i,r._id)"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20.236 37.863" style="fill:gray">
                  <g id="bookmark" fill="gray">
                    <path d="M6.745,0h6.745a6.539,6.539,0,0,1,6.745,6.311l-.043,31.553L10.1,27.3,0,37.863V6.311A6.539,6.539,0,0,1,6.745,0Z"
                      stroke="none" />
                    <path d="M 6.745473861694336 2 C 4.128812789916992 2 2.000003814697266 3.933700561523438 2.000003814697266 6.310550689697266 L 2.000003814697266 32.87657165527344 L 8.65113353729248 25.91854095458984 L 10.09687328338623 24.40608978271484 L 11.5426139831543 25.91854095458984 L 18.20048522949219 32.88362121582031 L 18.23642349243164 6.310550689697266 C 18.23642349243164 3.933700561523438 16.10761260986328 2 13.49095344543457 2 L 6.745473861694336 2 M 6.745473861694336 0 L 13.49095344543457 0 C 17.21637344360352 0 20.23642349243164 2.825328826904297 20.23642349243164 6.310550689697266 L 20.19375419616699 37.86328125 L 10.09687328338623 27.30051040649414 L 3.814697265625e-06 37.86328125 L 3.814697265625e-06 6.310550689697266 C 3.814697265625e-06 2.825328826904297 3.020053863525391 0 6.745473861694336 0 Z"
                      stroke="none" fill="gray" />
                  </g>
                </svg></span></button>
            </ng-template>
          </div>

          <div class="b_page_btn" *ngIf="!this.token">
            <button  (click)= " openLogin()"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20.236 37.863">
              <g id="bookmark" fill="transparent">
                <path d="M6.745,0h6.745a6.539,6.539,0,0,1,6.745,6.311l-.043,31.553L10.1,27.3,0,37.863V6.311A6.539,6.539,0,0,1,6.745,0Z"
                  stroke="none" />
                <path d="M 6.745473861694336 2 C 4.128812789916992 2 2.000003814697266 3.933700561523438 2.000003814697266 6.310550689697266 L 2.000003814697266 32.87657165527344 L 8.65113353729248 25.91854095458984 L 10.09687328338623 24.40608978271484 L 11.5426139831543 25.91854095458984 L 18.20048522949219 32.88362121582031 L 18.23642349243164 6.310550689697266 C 18.23642349243164 3.933700561523438 16.10761260986328 2 13.49095344543457 2 L 6.745473861694336 2 M 6.745473861694336 0 L 13.49095344543457 0 C 17.21637344360352 0 20.23642349243164 2.825328826904297 20.23642349243164 6.310550689697266 L 20.19375419616699 37.86328125 L 10.09687328338623 27.30051040649414 L 3.814697265625e-06 37.86328125 L 3.814697265625e-06 6.310550689697266 C 3.814697265625e-06 2.825328826904297 3.020053863525391 0 6.745473861694336 0 Z"
                  stroke="none" fill="gray" />
              </g>
            </svg></span></button>
          </div>
      </div>
    <p><span style="padding: 0 10px 0 0;border-right: 1px solid #ccc" >{{r.location}}</span> <span style="padding: 0 0 0 10px;">Industry</span></p>
    <div class="b_page_btn1" *ngIf="this.token">
        <button  (click)="onunfollow(i,r._id)"  *ngIf = "this.cresult[i].follow else loading">Following</button>

        <ng-template #loading>
            <button (click)="onfollow(i,r._id)" >Follow</button>
        </ng-template>
      </div>
      <div class="b_page_btn1" *ngIf="!this.token">
            <button (click)="openLogin()" >Follow</button>

      </div>
  </div>

  <div class="storyBtn">
  <button routerLink = "/companyPage/{{r._id}}" [queryParams]= "{urltype:'default'}"> Know Our Story</button>
  </div>

</div>
<div class="discription">
  <p>{{(r.shortIntro | slice:0:250)+'...'}}</p>
</div>
<mat-accordion  class="des">

    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header  class="speci" style="background-color:#F5F5F5;">
        <mat-panel-title>
            <h2 >Description</h2>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="speci_1"  >
        <div class="speci_details">
            <p>{{r.shortIntro}}</p>

        </div>
        </div>
    </mat-expansion-panel>

  </mat-accordion>
<div class="cardFooter">
<div class="icons">

<!-- {{r.website}} -->
    <span> <a target="_blank" href="http://{{r.website}}"><img alt="with-login" src="assets/images/google_icon.png"></a></span>
    <!-- {{r._id}} -->
    <span  routerLink="/companyPage/{{r._id}}" [queryParams] = "{urltype: 'contact'}"><img alt="with-login" src="assets/images/contact1.png"></span>
</div>
</div>
</div>
<!-- <div *ngIf="!result">
  <img alt="with-login" src="../../../assets/images/result_not_found.png">

</div> -->

</div>
<div *ngIf = "!result.length" class="result_not_found">
  <img alt="with-login" src = "../../../assets/images/result_not_found.png">
</div>

</section>  

